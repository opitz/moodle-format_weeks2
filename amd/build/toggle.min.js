define ("format_weeks2/toggle",["jquery","jqueryui"],function(a){return{init:function init(){var b=function(){var b={};a("li.section").each(function(){if(!a(this).find(".toggle_area").hasClass("hidden")){b[a(this).attr("section-id")]="1"}});var c=a("#courseid").attr("courseid");a.ajax({url:"format/weeks2/ajax/update_toggles.php",type:"POST",data:{courseid:c,toggle_seq:JSON.stringify(b),sesskey:M.cfg.sesskey},success:function success(a){if(""!==a){console.log("New toggle sequence: "+a)}}})},c=function(){a(".toggler").on("click",function(c){if(c.altKey){console.log("ALT pressed...!");if(a(this).hasClass("toggler_closed")){a(".toggler_open").show();a(".toggler_closed").hide();a(".toggle_area").removeClass("hidden").show()}else{a(".toggler_open").hide();a(".toggler_closed").show();a(".toggle_area").addClass("hidden").hide();a("#section-0").find(".sectionbody").removeClass("hidden").show()}}else{if(a(this).hasClass("toggler_closed")){a(this).parent().find(".toggler_open").show();a(this).hide();a(this).parent().parent().parent().find(".toggle_area").removeClass("hidden").show()}else{a(this).parent().find(".toggler_closed").show();a(this).hide();a(this).parent().parent().parent().find(".toggle_area").addClass("hidden").hide()}}b()})},d=function(){a("#btn_toggle_all_open").on("click",function(){a(".toggler_closed").click();b()})},e=function(){a("#btn_toggle_all_close").on("click",function(){a(".toggler_open").click();b()})},f=function(){a("#btn_open_all").on("click",function(){a(".toggler_open").show();a(".toggler_closed").hide();a(".toggle_area").removeClass("hidden").show();b()});a("#btn_close_all").on("click",function(){a(".toggler_open").hide();a(".toggler_closed").show();a(".toggle_area").addClass("hidden").hide();a("#section-0").find(".sectionbody").removeClass("hidden").show();b()})},g=function(){c();d();e();f()};a(document).ready(function(){console.log("=================< topics2/toggle.js >=================");g()})}}});
//# sourceMappingURL=toggle.min.js.map
