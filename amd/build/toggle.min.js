define(["jquery","jqueryui"],function(a){return{init:function(){var b=function(){console.log("no of sections = "+a("li.section").length);var b="";a("li.section").each(function(){b+=a(this).find(".toggle_area").hasClass("hidden")?"0":"1"}),console.log("toggle_seq = "+b);var c=a("#courseid").attr("courseid");a.ajax({url:"format/topics2/ajax/update_toggles.php",type:"POST",data:{courseid:c,toggle_seq:b},success:function(a){""!==a&&console.log("New toggle sequence: "+a)}})},c=function(){a(".toggler").on("click",function(c){c.altKey?(console.log("ALT pressed...!"),a(this).hasClass("toggler_closed")?(a(".toggler_open").show(),a(".toggler_closed").hide(),a(".toggle_area").removeClass("hidden").show()):(a(".toggler_open").hide(),a(".toggler_closed").show(),a(".toggle_area").addClass("hidden").hide(),a("#section-0").find(".sectionbody").removeClass("hidden").show())):a(this).hasClass("toggler_closed")?(a(this).parent().find(".toggler_open").show(),a(this).hide(),a(this).parent().parent().parent().find(".toggle_area").removeClass("hidden").show()):(a(this).parent().find(".toggler_closed").show(),a(this).hide(),a(this).parent().parent().parent().find(".toggle_area").addClass("hidden").hide()),b()})},d=function(){a("#btn_toggle_all_open").on("click",function(){a(".toggler_closed").click(),b()})},e=function(){a("#btn_toggle_all_close").on("click",function(){a(".toggler_open").click(),b()})},f=function(){a("#btn_open_all").on("click",function(){a(".toggler_open").show(),a(".toggler_closed").hide(),a(".toggle_area").removeClass("hidden").show(),b()}),a("#btn_close_all").on("click",function(){a(".toggler_open").hide(),a(".toggler_closed").show(),a(".toggle_area").addClass("hidden").hide(),a("#section-0").find(".sectionbody").removeClass("hidden").show(),b()})},g=function(){c(),d(),e(),f()};a(document).ready(function(){console.log("=================< topics2/toggle.js >================="),g()})}}});